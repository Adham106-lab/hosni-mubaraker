<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Transformation - Obamify Style</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            max-width: 1200px;
            width: 100%;
            padding: 40px;
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .upload-section {
            display: flex;
            justify-content: center;
            margin-bottom: 30px;
        }

        .upload-box {
            border: 3px dashed #667eea;
            border-radius: 15px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            background: #f8f9ff;
            max-width: 400px;
            width: 100%;
        }

        .upload-box:hover {
            border-color: #764ba2;
            background: #f0f2ff;
            transform: scale(1.02);
        }

        .upload-box.dragover {
            background: #e8ebff;
            border-color: #764ba2;
        }

        .upload-icon {
            font-size: 4em;
            margin-bottom: 10px;
        }

        input[type="file"] {
            display: none;
        }

        .controls {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .control-group {
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        label {
            font-weight: bold;
            margin-bottom: 8px;
            color: #333;
        }

        select, input[type="range"] {
            padding: 10px;
            border: 2px solid #667eea;
            border-radius: 8px;
            font-size: 16px;
            min-width: 150px;
        }

        input[type="range"] {
            min-width: 200px;
        }

        .size-value {
            margin-top: 5px;
            font-weight: bold;
            color: #667eea;
        }

        button {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        button:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.6);
        }

        button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .canvas-container {
            display: flex;
            justify-content: space-around;
            margin-top: 30px;
            gap: 20px;
            flex-wrap: wrap;
        }

        .canvas-wrapper {
            text-align: center;
        }

        .canvas-wrapper h3 {
            margin-bottom: 10px;
            color: #333;
        }

        canvas {
            border: 2px solid #ddd;
            border-radius: 10px;
            max-width: 100%;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .progress-container {
            margin: 20px 0;
            display: none;
        }

        .progress-bar {
            width: 100%;
            height: 30px;
            background: #f0f0f0;
            border-radius: 15px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #667eea 0%, #764ba2 100%);
            width: 0%;
            transition: width 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .status {
            text-align: center;
            margin: 15px 0;
            font-size: 16px;
            color: #666;
            min-height: 24px;
        }

        .info-box {
            background: #f8f9ff;
            border-left: 4px solid #667eea;
            padding: 15px;
            margin: 20px 0;
            border-radius: 8px;
        }

        .info-box h4 {
            color: #667eea;
            margin-bottom: 10px;
        }

        .download-btn {
            background: #10b981;
            margin-top: 15px;
            display: none;
        }

        .download-btn:hover {
            background: #059669;
        }

        @media (max-width: 768px) {
            h1 {
                font-size: 1.8em;
            }

            .container {
                padding: 20px;
            }

            .canvas-container {
                flex-direction: column;
                align-items: center;
            }
        }

        .footer {
            text-align: center;
            margin-top: 30px;
            padding-top: 20px;
            border-top: 2px solid #eee;
            color: #666;
        }

        .footer a {
            color: #667eea;
            text-decoration: none;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üé® Photo Transformation</h1>
        <p class="subtitle">Transform any photo using pixel rearrangement algorithm</p>

        <div class="upload-section">
            <div class="upload-box" id="uploadBox">
                <div class="upload-icon">üì∏</div>
                <h3>Drop your image here or click to upload</h3>
                <p>Supports JPG, PNG, GIF</p>
                <input type="file" id="fileInput" accept="image/*">
            </div>
        </div>

        <div class="info-box">
            <h4>‚ÑπÔ∏è How it works:</h4>
            <p>This algorithm takes pixels from your uploaded photo and rearranges them to match the target image style. 
            Each pixel is optimally placed to recreate the target while preserving your photo's original colors!</p>
        </div>

        <div class="controls">
            <div class="control-group">
                <label for="sizeSelect">Output Size:</label>
                <select id="sizeSelect">
                    <option value="64">64x64 (Fast - ~5s)</option>
                    <option value="128" selected>128x128 (Balanced - ~20s)</option>
                    <option value="256">256x256 (Quality - ~2min)</option>
                </select>
            </div>

            <div class="control-group">
                <label for="speedSlider">Speed vs Quality:</label>
                <input type="range" id="speedSlider" min="1" max="100" value="50">
                <div class="size-value" id="speedValue">Balanced</div>
            </div>
        </div>

        <div style="text-align: center;">
            <button id="transformBtn" disabled>Transform Photo</button>
        </div>

        <div class="progress-container" id="progressContainer">
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill">0%</div>
            </div>
        </div>

        <div class="status" id="status"></div>

        <div class="canvas-container">
            <div class="canvas-wrapper">
                <h3>Input Image</h3>
                <canvas id="inputCanvas"></canvas>
            </div>
            <div class="canvas-wrapper">
                <h3>Target Style</h3>
                <canvas id="targetCanvas"></canvas>
            </div>
            <div class="canvas-wrapper">
                <h3>Output Result</h3>
                <canvas id="outputCanvas"></canvas>
            </div>
        </div>

        <div style="text-align: center;">
            <button class="download-btn" id="downloadBtn">üíæ Download Result</button>
        </div>

        <div class="footer">
            <p>Inspired by <a href="https://github.com/Spu7Nix/obamify" target="_blank">Obamify</a> by Spu7Nix</p>
            <p>Using custom target image | Built with vanilla JavaScript</p>
        </div>
    </div>
<script src="https://cdn.jsdelivr.net/npm/munkres-js@1.2.2/munkres.min.js"></script>
<script src="app.js"></script>
</body>
</html>
